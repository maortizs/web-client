{% extends 'base.html.twig' %}

{% block title %}Listado de Productos{% endblock %}

{% block body %}
  <h1>Productos</h1>

  <a href="{{ path('product_new') }}">➕ Crear nuevo producto</a>

  <table border="1" cellpadding="8" cellspacing="0">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>Stock</th>
        <th>Precio (€)</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for p in products %}
        <tr>
          <td>{{ p.id }}</td>
          <td>{{ p.name }}</td>
          <td>{{ p.stock }}</td>
          <td>{{ p.price }}</td>
          <td>
            <a href="{{ path('product_edit', { id: p.id }) }}">Editar</a>
            <form action="{{ path('product_delete', { id: p.id }) }}" method="post" style="display:inline">
              <button type="submit" onclick="return confirm('¿Eliminar producto?')">Eliminar</button>
            </form>
          </td>
        </tr>
      {% else %}
        <tr>
          <td colspan="5">No hay productos disponibles.</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
